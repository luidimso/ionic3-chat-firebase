{"version":3,"sources":["../../src/providers/user/user.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/components/base/base.ts","../../src/models/user.model.ts","../../src/components/components.module.ts","../../src/providers/chat/chat.ts","../../src/models/message.model.ts","../../src/providers/message/message.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/components/logged-header/logged-header.ts","../../src/components/message-box/message-box.ts","../../src/components/user-info/user-info.ts","../../src/components/user-menu/user-menu.ts","../../src/components/progress-bar/progress-bar.ts","../../src/app/app.component.ts","../../src/config.ts","../../src/providers/auth/auth.ts","../../src/providers/base/base.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable, Inject } from '@angular/core';\nimport { AngularFire, FirebaseListObservable, FirebaseObjectObservable, FirebaseAuthState, FirebaseApp } from 'angularfire2';\nimport { User } from '../../models/user.model';\nimport { BaseService } from '../base/base';\nimport { Observable } from 'rxjs/Observable';\nimport \"rxjs/add/operator/map\";\nimport \"rxjs/add/operator/catch\";\n\n@Injectable()\nexport class UserService extends BaseService{\n  users:FirebaseListObservable<User[]>;\n  currentUser:FirebaseObjectObservable<User>;\n\n  constructor(public af: AngularFire, @Inject(FirebaseApp) public firebaseApp: any) {\n    super();\n    this.listenAuthState();\n  }\n\n  create(user:User, userId:string):firebase.Promise<void>{\n    return this.af.database.object(`/users/${userId}`).set(user).catch(this.handlePromiseError);\n  }\n\n  edit(user:{name:string, username:string, photo:string}):firebase.Promise<void>{\n    return this.currentUser.update(user).catch(this.handlePromiseError);\n  }\n\n  userExists(username:string):Observable<boolean>{\n    return this.af.database.list('/users', { // To verify if username already exists\n      query:{\n        orderByChild: \"username\",\n        equalTo: username\n      }\n    }).map((users:User[]) => {\n      return users.length > 0;\n    }).catch(this.handleObservableError);\n  }\n\n  private listenAuthState():void{\n    this.af.auth.subscribe((authState:FirebaseAuthState) => {\n      if(authState){\n        this.currentUser = this.af.database.object(`/users/${authState.auth.uid}`);\n        this.setUsers(authState.auth.uid);\n      }\n    })\n  }\n\n  private setUsers(currentUserId:string):void{\n    this.users = <FirebaseListObservable<User[]>>this.af.database.list('/users', {\n      query: {\n        orderByChild: 'name'\n      }\n    }).map((users:User[]) => {\n      return users.filter((user:User) => user.$key !== currentUserId);\n    })\n  }\n\n  getUserById(userId:string):FirebaseObjectObservable<User>{\n    return <FirebaseObjectObservable<User>>this.af.database.object(`/users/${userId}`).catch(this.handleObservableError);\n  }\n\n  uploadPhoto(file:File, userId:string):firebase.storage.UploadTask {\n    return this.firebaseApp.storage().ref().child(`/users/${userId}`).put(file);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 124;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 124\n// module chunks = 5","var map = {\n\t\"../pages/chat/chat.module\": [\n\t\t331,\n\t\t4\n\t],\n\t\"../pages/home/home.module\": [\n\t\t332,\n\t\t0\n\t],\n\t\"../pages/signin/signin.module\": [\n\t\t333,\n\t\t3\n\t],\n\t\"../pages/signup/signup.module\": [\n\t\t334,\n\t\t2\n\t],\n\t\"../pages/user-profile/user-profile.module\": [\n\t\t335,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 166;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 166\n// module chunks = 5","import { NavController, App, AlertController, MenuController } from \"ionic-angular\";\nimport { AuthService } from \"../../providers/auth/auth\";\nimport { OnInit } from \"@angular/core\";\n\nexport abstract class BaseComponent implements OnInit{\n  protected navCtrl:NavController;\n\n  constructor(public alertCtrl:AlertController, public authService:AuthService, public app:App, public menuCtrl:MenuController){}\n\n  ngOnInit():void{\n    this.navCtrl = this.app.getActiveNav();\n  }\n\n  onLogout():void{\n    this.alertCtrl.create({\n      message: \"Do you want to quit?\",\n      buttons:[{\n        text: \"Yes\",\n        handler: () => {\n          this.authService.logout().then(() => {\n            this.navCtrl.setRoot(\"SigninPage\");\n            this.menuCtrl.enable(false, 'user-menu');\n          });\n        }\n      },{\n        text: \"No\"\n      }]\n    }).present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/base/base.ts","export class User {\n  public $key:string;\n  \n  constructor(public name:string, public username:string, public email:string, public photo:string){}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.model.ts","import { NgModule } from '@angular/core';\nimport { LoggedHeaderComponent } from './logged-header/logged-header';\nimport { IonicModule } from 'ionic-angular';\nimport { MessageBoxComponent } from './message-box/message-box';\nimport { UserInfoComponent } from './user-info/user-info';\nimport { UserMenuComponent } from './user-menu/user-menu';\nimport { ProgressBarComponent } from './progress-bar/progress-bar';\n\n@NgModule({\n\tdeclarations: [LoggedHeaderComponent,\n    MessageBoxComponent,\n    UserInfoComponent,\n    UserMenuComponent,\n    ProgressBarComponent],\n\timports: [IonicModule],\n\texports: [LoggedHeaderComponent,\n    MessageBoxComponent,\n    UserInfoComponent,\n    UserMenuComponent,\n    ProgressBarComponent]\n})\n\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Injectable } from '@angular/core';\nimport \"rxjs/add/operator/map\";\nimport { BaseService } from '../base/base';\nimport { Chat } from '../../models/chat.model';\nimport { AngularFire, FirebaseObjectObservable, FirebaseListObservable, FirebaseAuthState } from 'angularfire2';\n\n@Injectable()\nexport class ChatService extends BaseService{\n  chats:FirebaseListObservable<Chat[]>\n\n  constructor(public af: AngularFire) {\n    super();\n    this.setChats();\n  }\n\n  create(chat:Chat, userId1:string, userId2:string):firebase.Promise<void>{\n    return this.af.database.object(`/chats/${userId1}/${userId2}`).set(chat).catch(this.handlePromiseError);\n  }\n\n  getChat(userId1:string, userId2:string):FirebaseObjectObservable<Chat>{\n    return <FirebaseObjectObservable<Chat>>this.af.database.object(`/chats/${userId1}/${userId2}`).catch(this.handleObservableError);\n  }\n\n  updatePhoto(chat:FirebaseObjectObservable<Chat>, chatPhoto:string, userPhoto:string):firebase.Promise<boolean>{\n    if(chatPhoto != userPhoto){\n      return chat.update({\n        photo: userPhoto\n      }).then(() => {\n        return true;\n      }).catch(this.handlePromiseError);\n    }\n    return Promise.resolve(false);\n  }\n\n  private setChats():void{\n    this.af.auth.subscribe((authState:FirebaseAuthState) => {\n      if(authState){\n        this.chats = <FirebaseListObservable<Chat[]>>this.af.database.list(`/chats/${authState.auth.uid}`, {\n          query: {\n            orderByChild: 'timestamp'\n          }\n        }).map((chats:Chat[]) => {\n          return chats.reverse();\n        }).catch(this.handleObservableError);\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat/chat.ts","export class Message{\n  constructor(public userId:string, public text:string, public timestamp){}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/message.model.ts","import { Injectable } from '@angular/core';\nimport { FirebaseListObservable, AngularFire } from 'angularfire2';\nimport { Message } from '../../models/message.model';\nimport { BaseService } from '../base/base';\n\n@Injectable()\nexport class MessageService extends BaseService{\n\n  constructor(public af:AngularFire) {\n    super();\n  }\n\n  getMessages(userId1:string, userId2:string):FirebaseListObservable<Message[]>{\n    return <FirebaseListObservable<Message[]>>this.af.database.list(`/messages/${userId1}-${userId2}`, {\n      query:{\n        orderByChild: 'timestamp',\n        limitToLast: 30\n      }\n    }).catch(this.handleObservableError);\n  }\n\n  create(message:Message, listMessage:FirebaseListObservable<Message[]>):firebase.Promise<void>{\n    return listMessage.push(message).catch(this.handlePromiseError);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/message/message.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { AngularFireModule, FirebaseAppConfig, AuthProviders, AuthMethods } from 'angularfire2';\n\nimport { MyApp } from './app.component';\nimport { firebaseConf } from '../config';\nimport { UserService } from '../providers/user/user';\nimport { AuthService } from '../providers/auth/auth';\nimport { ChatService } from '../providers/chat/chat';\nimport { MessageService } from '../providers/message/message';\nimport { ComponentsModule } from '../components/components.module';\n\nconst firebaseAppConfig:FirebaseAppConfig = firebaseConf;\n\nconst firebaseAuthConfig = {\n  provider:  AuthProviders.Custom,\n  method: AuthMethods.Password\n}\n\n@NgModule({\n  declarations: [\n    MyApp\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseAppConfig, firebaseAuthConfig),\n    ComponentsModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    UserService,\n    AuthService,\n    ChatService,\n    MessageService\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, Input } from '@angular/core';\nimport { BaseComponent } from '../base/base';\nimport { AlertController, App, MenuController } from 'ionic-angular';\nimport { AuthService } from '../../providers/auth/auth';\nimport { User } from 'firebase';\n\n@Component({\n  selector: 'logged-header',\n  templateUrl: 'logged-header.html'\n})\nexport class LoggedHeaderComponent extends BaseComponent{\n\n  @Input() title:string;\n  @Input() user:User;\n\n  constructor(public alertCtrl:AlertController, public authService:AuthService, public app:App, public menuCtrl:MenuController) {\n    super(alertCtrl, authService, app, menuCtrl);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/logged-header/logged-header.ts","import { Component, Input } from '@angular/core';\nimport { Message } from '../../models/message.model';\n\n@Component({\n  selector: 'message-box',\n  templateUrl: 'message-box.html',\n  host: {\n    '[style.justify-content]': '((!isSender) ? \"flex-start\" : \"flex-end\")',\n    '[style.text-align]': '((!isSender) ? \"left\" : \"right\")'\n  }\n})\nexport class MessageBoxComponent {\n  @Input() message:Message;\n  @Input() isSender:boolean;\n\n  constructor() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message-box/message-box.ts","import { Component, Input } from '@angular/core';\nimport { User } from '../../models/user.model';\n\n@Component({\n  selector: 'user-info',\n  templateUrl: 'user-info.html'\n})\nexport class UserInfoComponent {\n  @Input() user:User;\n  @Input() isMenu:boolean = false;\n\n  constructor() {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-info/user-info.ts","import { Component, Input } from '@angular/core';\nimport { BaseComponent } from '../base/base';\nimport { AlertController, App, MenuController } from 'ionic-angular';\nimport { AuthService } from '../../providers/auth/auth';\nimport { User } from '../../models/user.model';\n\n@Component({\n  selector: 'user-menu',\n  templateUrl: 'user-menu.html'\n})\nexport class UserMenuComponent extends BaseComponent{\n  @Input('user') currentUser:User;\n\n  constructor(public alertCtrl:AlertController, public authService:AuthService, public app:App, public menuCtrl:MenuController) {\n    super(alertCtrl, authService, app, menuCtrl);\n  }\n\n  onProfile():void{\n    this.navCtrl.push(\"UserProfilePage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-menu/user-menu.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: 'progress-bar.html'\n})\nexport class ProgressBarComponent {\n  @Input() progress:number;\n\n  constructor() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { User } from '../models/user.model';\nimport { AuthService } from '../providers/auth/auth';\nimport { UserService } from '../providers/user/user';\nimport { FirebaseAuthState } from 'angularfire2';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = 'SigninPage';\n  currentUser:User;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, authService: AuthService, userService: UserService) {\n    authService.auth.subscribe((authState:FirebaseAuthState) => {\n      if(authState){\n        userService.currentUser.subscribe((user:User) => {\n          this.currentUser = user;\n        });\n      }\n    });\n\n    platform.ready().then(() => {\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const firebaseConf = {\n    apiKey: \"AIzaSyCvD0sATO41llZ-9F_8d58lYFssFQSL6wY\",\n    authDomain: \"ioni2-chat.firebaseapp.com\",\n    storageBucket: \"ioni2-chat.appspot.com\",\n    messagingSenderId: \"172270112544\",\n    appId: \"1:172270112544:web:c98f8984688cc7b76c9145\",\n    databaseURL: \"https://ioni2-chat-default-rtdb.firebaseio.com/\"\n  };\n\n\n// WEBPACK FOOTER //\n// ./src/config.ts","import { Injectable } from '@angular/core';\nimport { AngularFireAuth, FirebaseAuthState } from 'angularfire2';\nimport { BaseService } from '../base/base';\nimport \"rxjs/add/operator/first\";\n\n@Injectable()\nexport class AuthService extends BaseService{\n\n  constructor(public auth: AngularFireAuth) {\n    super();\n  }\n\n  createAuthUser(user:{email:string, password:string}):firebase.Promise<FirebaseAuthState>{\n    return this.auth.createUser(user).catch(this.handlePromiseError);\n  }\n\n  signinWithEmail(user:{email:string, password:string}):firebase.Promise<boolean>{\n    return this.auth.login(user).then((authState:FirebaseAuthState) => {\n      return authState != null;\n    }).catch(this.handlePromiseError);\n  }\n\n  logout():Promise<void>{\n    return this.auth.logout();\n  }\n\n  get authenticated():Promise<boolean>{\n    return new Promise((resolve, reject) => {\n      this.auth.first().subscribe((authState:FirebaseAuthState) => {\n        (authState) ? resolve(true) : reject(false);\n      })\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","import { Observable } from \"rxjs/Observable\";\n\nconst extractError = (error:Response | any):string => {\n  let errMsg:string;\n\n  if(error instanceof Response){\n    const body:any = error.json() || '';\n    const err = body.error || JSON.stringify(body);\n    errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n  } else {\n    errMsg = error.message ? error.message : error.toString();\n  }\n\n  return errMsg;\n}\n\nexport abstract class BaseService {\n  protected handlePromiseError(error:Response | any):Promise<any>{\n    return Promise.reject(extractError(error));\n  }\n\n  protected handleObservableError(error:Response | any):Observable<any>{\n    return Observable.throw(extractError(error));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/base/base.ts"],"sourceRoot":""}